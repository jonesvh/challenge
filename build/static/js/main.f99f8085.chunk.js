(this.webpackJsonpleads=this.webpackJsonpleads||[]).push([[0],{119:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(66),o=t.n(i),l=t(1),c=t(2);function u(){var n=Object(l.a)(["\n    * {\n        margin: 0;\n        padding: 5px;\n        box-sizing: border-box;\n    }\n    body {\n        background: #224D74;;\n        font-size: 14px;\n        font-family: Arial;\n    }\n"]);return u=function(){return n},n}var d=Object(c.a)(u()),m=t(36),s=t(4),f=t(70);function p(){var n=Object(l.a)(["\n    outline:0;\n    border: 0 none;\n    cursor: pointer;\n    text-align:center;\n    text-decoration: none;\n    padding: 0px;\n    &:visited {\n        color: #111;\n    } \n"]);return p=function(){return n},n}function b(){var n=Object(l.a)(["\n    text-align: left;\n    color: #FFF;\n    font-weight: 500;\n    @media(max-width: 400px) {\n        font-size: 14px;\n        display:",";\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n"]);return b=function(){return n},n}function x(){var n=Object(l.a)(["\n    @media(max-width: 400px) {\n        display:",";\n    }\n"]);return x=function(){return n},n}function h(){var n=Object(l.a)(["\n    border-bottom: 1px solid #224D74;\n    @media(min-width: 401px) and (max-width: 800px) {\n        height: 35px;\n    }\n    @media(min-width: 801px) {\n        height: 40px;\n    }\n"]);return h=function(){return n},n}function v(){var n=Object(l.a)(["\n    background: #FFF;\n    border-spacing: 1px;\n    \n"]);return v=function(){return n},n}function g(){var n=Object(l.a)(["\n    border: 0;\n    border-collapse: collapse;\n    border-spacing: 0;\n    width:100%;\n"]);return g=function(){return n},n}function E(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return E=function(){return n},n}function j(){var n=Object(l.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return j=function(){return n},n}function w(){var n=Object(l.a)(["\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n"]);return w=function(){return n},n}function y(){var n=Object(l.a)(["\n    color: #020202;\n    font-weight: 600;\n    font-size: 15px\n"]);return y=function(){return n},n}function O(){var n=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    max-width: 700px;\n    padding:5px\n"]);return O=function(){return n},n}function C(){var n=Object(l.a)(["\n    display:flex;\n    align-items: center;\n    justify-content:center\n"]);return C=function(){return n},n}var F=c.b.div(C()),z=c.b.div(O()),S=(c.b.div(y()),c.b.div(w()),c.b.div(j(),(function(n){return n.justifycontent})),c.b.div(E(),(function(n){return n.justifycontent})),c.b.table(g())),k=c.b.tbody(v()),N=c.b.tr(h()),D=c.b.td(x(),(function(n){return n.maxwidth374display})),L=c.b.th(b(),(function(n){return n.maxwidth374display})),_=Object(c.b)(m.b)(p()),q=t(86),P=t.n(q);function B(){var n=Object(l.a)(["\n    color: #FFFFFF;\n\n    @media(max-width: 400px){\n        font-size: 24px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 26px;\n    }\n    @media(min-width: 801px) {\n        font-size: 28px;\n    }\n"]);return B=function(){return n},n}function R(){var n=Object(l.a)(["\n    @media(max-width: 400px){\n        width: 200px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        width: 260px;\n    }\n    @media(min-width: 801px) {\n        width: 280px;\n    }\n"]);return R=function(){return n},n}function A(){var n=Object(l.a)(["\n    margin-bottom: 30px;\n"]);return A=function(){return n},n}var J=c.b.div(A()),M=c.b.img(R()),T=c.b.div(B()),U=function(n){var e=n.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null,r.a.createElement(M,{src:P.a,alt:"logo"})),r.a.createElement(T,{className:"label"},e))},V=t(60),I=t(47),G=t(89),H=t.n(G);function K(){var n=Object(l.a)(["\n    padding-top: 0;\n    color: #ff0000;\n    text-align: end;\n"]);return K=function(){return n},n}function Q(){var n=Object(l.a)(["\n    display:flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: flex-end;\n    width: 100%;\n    padding: 0px;\n    @media(max-width: 400px){\n        display:none;\n    }\n"]);return Q=function(){return n},n}function W(){var n=Object(l.a)(["\n    flex:0;\n    border-color: ",";\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n    color: #3C3C3C !important;\n    &:disabled {\n        cursor: not-allowed;\n        background: #D4D4D4;\n    };   \n"]);return W=function(){return n},n}function X(){var n=Object(l.a)(["\n    color: #020202;\n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n\n"]);return X=function(){return n},n}function Y(){var n=Object(l.a)(["\n    flex:0;\n    border-color: ",";\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n    color: #3C3C3C !important;\n    &:disabled {\n        cursor: not-allowed;\n        background: #D4D4D4;\n    };\n    \n"]);return Y=function(){return n},n}function Z(){var n=Object(l.a)(["\n    flex:1;\n    display: flex;\n    flex-direction: column;\n    width: 40vw;\n    max-width: 330px;\n"]);return Z=function(){return n},n}var $=c.b.div(Z()),nn=c.b.input(Y(),(function(n){return n.bordercolor||"#DCDCDC"})),en=c.b.label(X()),tn=Object(c.b)(H.a)(W(),(function(n){return n.bordercolor||"#DCDCDC"})),an=c.b.div(Q()),rn=c.b.div(K()),on=function(n){var e=n.name,t=n.label,a=n.flex,i=n.type,o=n.disabled,l=n.mask,c=n.error,u=n.msgerror,d=Object(I.a)(n,["name","label","flex","type","disabled","mask","error","msgerror"]),m="";return c&&(m="#ff0000"),r.a.createElement($,{style:{flex:a}},r.a.createElement(en,{htmlFor:e},t),l?r.a.createElement(tn,Object.assign({type:i||"text",id:e},d,{mask:"999.999.999-99",bordercolor:m})):r.a.createElement(nn,Object.assign({type:i||"text",id:e},d,{disabled:o,bordercolor:m})),c&&r.a.createElement(an,null,r.a.createElement(rn,null,u)))};function ln(){var n=Object(l.a)(["\n    border-radius: 3px;\n    outline:0;\n    border: 0 none;\n    background: ",";\n    font-weight: 600;\n    height:35px;\n    width: 6rem;\n    cursor: pointer;\n    font-size:14px;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n        width: 7rem;\n        font-weight: 500;\n    }\n\n    &:hover {\n        background: ",";\n    }\n"]);return ln=function(){return n},n}function cn(){var n=Object(l.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    \n"]);return cn=function(){return n},n}var un=c.b.div(cn()),dn=c.b.button(ln(),(function(n){return n.bgcolor}),(function(n){return n.bgcolorhover})),mn=function(n){var e=n.label,t=n.bgcolor,a=n.bgcolorhover,i=n.type,o=Object(I.a)(n,["label","bgcolor","bgcolorhover","type"]);return r.a.createElement(un,null,r.a.createElement(dn,Object.assign({type:i||"button"},o,{bgcolor:t,bgcolorhover:a}),e))},sn=t(90),fn=t.n(sn).a.create({baseURL:"https://challenge-leads-db.herokuapp.com"});var pn=function(n){if(void 0!==n&&null!==n)return n.replace(/\D+/g,"")},bn=t(35),xn=Object(a.createContext)();function hn(n){var e=n.children,t=Object(a.useState)(0),i=Object(bn.a)(t,2),o=i[0],l=i[1];return r.a.createElement(xn.Provider,{value:{leads:o,setLeads:l}},e)}function vn(){var n=Object(a.useContext)(xn);if(!n)throw new Error("useLeads must be used within a LeadsProvider");return{leads:n.leads,setLeads:n.setLeads}}function gn(){var n=Object(l.a)(["\n    color: #020202;\n    font-weight: 600;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n\n"]);return gn=function(){return n},n}function En(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return En=function(){return n},n}function jn(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return jn=function(){return n},n}function wn(){var n=Object(l.a)(['\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n    padding:5px;\n    autocomplete:"off"\n']);return wn=function(){return n},n}var yn=c.b.form(wn()),On=c.b.div(jn(),(function(n){return n.justifycontent})),Cn=c.b.div(En(),(function(n){return n.justifycontent})),Fn=c.b.div(gn()),zn=function(){var n=vn().setLeads;function e(n){var e;return n.name&&n.cpf?e="/leads?nome=".concat(n.name,"&cpf=").concat(pn(n.cpf),"&_sort=id&_order=desc"):!n.name&&n.cpf?e="/leads?cpf=".concat(pn(n.cpf),"&_sort=id&_order=desc"):n.name&&!n.cpf&&(e="/leads?nome=".concat(n.name,"&_sort=id&_order=desc")),e}function t(){fn.get("/leads?_sort=id&_order=desc",{headers:{"Content-Type":"application/json"}}).then((function(e){n(e.data)}))}var i=Object(V.a)({initialValues:{name:"",cpf:""},onSubmit:function(a){a.name||a.cpf?function(t){e(t),fn.get(e(t),{headers:{"Content-Type":"application/json"}}).then((function(e){n(e.data)}))}(a):t()}}),o=(i.errors,i.handleSubmit),l=i.handleChange,c=i.values;return Object(a.useEffect)((function(){t()}),[]),r.a.createElement(yn,{onSubmit:o,autoComplete:"off"},r.a.createElement(On,null,r.a.createElement(Fn,null,"Filters")),r.a.createElement(On,null,r.a.createElement(Cn,null,r.a.createElement(on,{name:"name",label:"Name",type:"text",onChange:l,value:c.name,flex:1})),r.a.createElement(Cn,null,r.a.createElement(on,{name:"cpf",label:"CPF",type:"text",onChange:l,value:c.cpf,flex:1,mask:"999.999.999-29"}))),r.a.createElement(On,null,r.a.createElement(Cn,{justifycontent:"flex-end"},r.a.createElement(mn,{label:"Search",bgcolor:"#F79028",bgcolorhover:"#e08427",type:"submit"}))))};function Sn(){var n=Object(l.a)(["\n    border-radius: 3px;\n    outline:0;\n    border: 0 none;\n    background: ",";\n    font-weight: 600;\n    height:35px;\n    width: 6rem;\n    cursor: pointer;\n    text-align:center;\n    text-decoration: none;\n    padding: 10px;\n    &:hover {\n        background: ",";\n    },\n    &:visited {\n        color: #111;\n    }\n\n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n        width: 7rem;\n        padding: 8px;\n        font-weight: 500;\n    }\n"]);return Sn=function(){return n},n}function kn(){var n=Object(l.a)(["\n    display:flex;\n    justify-content:flex-start;\n"]);return kn=function(){return n},n}var Nn=c.b.div(kn()),Dn=Object(c.b)(m.b)(Sn(),(function(n){return n.bgcolor}),(function(n){return n.bgcolorhover})),Ln=function(n){var e=n.to,t=n.label,a=n.bgcolor,i=n.bgcolorhover;return r.a.createElement(Nn,null,r.a.createElement(Dn,{to:e,bgcolor:a,bgcolorhover:i},t))};var _n=function(n){return n.slice(0,3)+"."+n.slice(3,6)+"."+n.slice(6,9)+"-"+n.slice(9,11)};var qn=function(){function n(n){fn.delete("/leads/".concat(n)).then((function(){fn.get("/leads?_sort=id&_order=desc").then((function(n){console.log(n),i(n.data)}))}))}var e=vn(),t=e.leads,i=e.setLeads;return Object(a.useEffect)((function(){}),[]),r.a.createElement(F,null,r.a.createElement(z,null,r.a.createElement(U,{title:"Search Leads"}),r.a.createElement(zn,null),r.a.createElement(Ln,{to:"/add",label:"New Lead",bgcolor:"#F79028",bgcolorhover:"#e08427"}),t.length>0&&r.a.createElement(S,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(L,null),r.a.createElement(L,null),r.a.createElement(L,{maxwidth374display:"none"},"Email"),r.a.createElement(L,null,"Name"),r.a.createElement(L,null,"CPF"))),r.a.createElement(k,null,t.map((function(e){return r.a.createElement(N,{key:e.id},r.a.createElement(D,null,r.a.createElement(_,{to:{pathname:"/add",state:e.id}},r.a.createElement(f.a,{style:{padding:0,width:15,height:15,cursor:"pointer"}}))),r.a.createElement(D,null,r.a.createElement(f.b,{style:{padding:0,width:15,height:15,cursor:"pointer"},onClick:function(t){n(e.id)}})),r.a.createElement(D,{maxwidth374display:"none"},e.email),r.a.createElement(D,null,e.nome),r.a.createElement(D,null,_n(e.cpf)))}))))))};function Pn(){var n=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    max-width: 700px;\n    padding:5px\n"]);return Pn=function(){return n},n}function Bn(){var n=Object(l.a)(["\n    display:flex;\n    align-items: center;\n    justify-content:center\n"]);return Bn=function(){return n},n}var Rn=c.b.div(Bn()),An=c.b.div(Pn()),Jn=t(32);function Mn(){var n=Object(l.a)(["\n    padding-left: 0;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n"]);return Mn=function(){return n},n}function Tn(){var n=Object(l.a)(["\n    border-color: #DCDCDC;\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n"]);return Tn=function(){return n},n}function Un(){var n=Object(l.a)(["\n    display:flex;\n    flex-direction: column;\n    width: 100%\n"]);return Un=function(){return n},n}var Vn=c.b.div(Un()),In=c.b.select(Tn()),Gn=c.b.label(Mn()),Hn=function(n){var e=n.name,t=n.label,a=n.options,i=Object(I.a)(n,["name","label","options"]);return r.a.createElement(Vn,null,r.a.createElement(Gn,{htmlFor:e},t),r.a.createElement(In,Object.assign({id:e,value:0},i),a.map((function(n){return r.a.createElement("option",{key:n.value,value:n.value},n.label)}))))};function Kn(){var n=Object(l.a)(["\n    color: #020202;\n    font-weight: 600;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n"]);return Kn=function(){return n},n}function Qn(){var n=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return Qn=function(){return n},n}function Wn(){var n=Object(l.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return Wn=function(){return n},n}function Xn(){var n=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n    padding:5px;\n"]);return Xn=function(){return n},n}var Yn=c.b.form(Xn()),Zn=c.b.div(Wn(),(function(n){return n.justifycontent})),$n=c.b.div(Qn(),(function(n){return n.justifycontent})),ne=c.b.div(Kn()),ee=function(){var n,e,t,i,o=Object(s.f)(),l=Object(s.e)(),c=Object(a.useState)(!1),u=Object(bn.a)(c,2),d=u[0],m=u[1],f=Object(a.useState)(""),p=Object(bn.a)(f,2),b=p[0],x=p[1],h=Object(a.useState)({id:0,name:"",cpf:"",email:"",maritalStatus:"",spouseName:""}),v=Object(bn.a)(h,2),g=v[0],E=v[1],j=Object(a.useState)([{nomeEstadoCivil:""}]),w=Object(bn.a)(j,2),y=w[0],O=w[1],C=Object(V.a)({initialValues:g,enableReinitialize:!0,validationSchema:Jn.b().shape({name:Jn.c().required("Name is a required field"),cpf:Jn.c().required("CPF is a required field").test("cpf","CPF must be exactly 11 characters",(function(n){var e;return 11===(null===(e=pn(n))||void 0===e?void 0:e.length)})),email:Jn.c().matches(/\D+/g,"only digits here").email().required("Email is a required field"),maritalStatus:Jn.a(),spouseName:Jn.c().when("maritalStatus",{is:1,then:Jn.c().required("Spouse Name is a required field")})}),onSubmit:function(n){d?L(n):_(n)}}),F=C.errors,z=C.touched,S=C.handleSubmit,k=C.handleChange,N=C.handleBlur,D=C.values,L=function(n){fn.put("/leads/".concat(n.id),{nome:n.name,email:n.email,cpf:pn(n.cpf),estadoCivil:n.maritalStatus,nomeConjugue:n.spouseName}).then((function(){alert("Cadastro atualizado com sucesso"),l.push("/")})).catch((function(n){console.log(n),alert("Erro ao atualizar cadastro.")}))},_=function(n){fn.post("/leads",{nome:n.name,email:n.email,cpf:pn(n.cpf),estadoCivil:n.maritalStatus,nomeConjugue:n.spouseName}).then((function(){alert("Cadastro realizado com sucesso"),l.push("/")})).catch((function(n){console.log(n),alert("Erro ao efetuar cadastro.")}))},q=function(){D.spouseName=""};return Object(a.useEffect)((function(){fn.get("/tiposEstadoCivil").then((function(n){O(n.data)})),void 0!==o.state&&0!==o.state?(x("Update"),fn.get("leads/".concat(o.state)).then((function(n){var e;e=n.data,m(!0),E({id:e.id,name:e.nome,cpf:e.cpf,email:e.email,maritalStatus:e.estadoCivil,spouseName:e.nomeConjugue})}))):x("Save")}),[]),r.a.createElement(Yn,{onSubmit:S,autoComplete:"off"},r.a.createElement(Zn,null,r.a.createElement(ne,null,"Lead")),r.a.createElement(Zn,null,r.a.createElement($n,null,r.a.createElement(on,{name:"name",label:"Name",type:"text",onChange:k,onBlur:N,value:D.name,flex:1,error:0!==(null===(n=F.name)||void 0===n?void 0:n.length)&&void 0!==F.name&&z.name,msgerror:F.name})),r.a.createElement($n,null,r.a.createElement(on,{name:"cpf",label:"CPF",type:"text",onChange:k,onBlur:N,value:D.cpf,flex:1,mask:"999.999.999-99",error:0!==(null===(e=F.cpf)||void 0===e?void 0:e.length)&&void 0!==F.cpf&&z.cpf,msgerror:F.cpf}))),r.a.createElement(Zn,null,r.a.createElement($n,null,r.a.createElement(on,{name:"email",label:"Email",type:"email ",onChange:k,onBlur:N,value:D.email,flex:1,error:0!==(null===(t=F.email)||void 0===t?void 0:t.length)&&void 0!==F.email&&z.email,msgerror:F.email})),r.a.createElement($n,null,r.a.createElement(Hn,{name:"maritalStatus",label:"Marital Status",onChange:k,value:D.maritalStatus,options:y.map((function(n,e){return{value:e,label:n.nomeEstadoCivil}}))}))),r.a.createElement(Zn,{justifycontent:"flex-start"},r.a.createElement($n,null,r.a.createElement(on,{name:"spouseName",label:"Spouse Name",type:"text",onChange:k,onBlur:N,value:D.spouseName,flex:1,disabled:"1"!==D.maritalStatus.toString()&&(q(),!0),error:0!==(null===(i=F.spouseName)||void 0===i?void 0:i.length)&&void 0!==F.spouseName&&z.spouseName,msgerror:F.spouseName})),r.a.createElement($n,null)),r.a.createElement(Zn,{justifycontent:"flex-end"},r.a.createElement($n,{justifycontent:"flex-start"},r.a.createElement(Ln,{to:"/",label:"Cancel",bgcolor:"#989898",bgcolorhover:"#807f7f"})),r.a.createElement($n,{justifycontent:"flex-end"},r.a.createElement(mn,{label:b,bgcolor:"#F79028",bgcolorhover:"#e08427",type:"submit"}))))};var te=function(){return r.a.createElement(Rn,null,r.a.createElement(An,null,r.a.createElement(U,{title:"Register a Lead"}),r.a.createElement(ee,null)))};var ae=function(){return r.a.createElement(m.a,null,r.a.createElement(s.a,{path:"/",exact:!0,component:qn}),r.a.createElement(s.a,{path:"/add",component:te}))};var re=function(){return r.a.createElement(hn,null,r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(ae,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null)),document.getElementById("root"))},86:function(n,e,t){n.exports=t.p+"static/media/logo.7fdc93a9.svg"},92:function(n,e,t){n.exports=t(119)}},[[92,1,2]]]);
//# sourceMappingURL=main.f99f8085.chunk.js.map