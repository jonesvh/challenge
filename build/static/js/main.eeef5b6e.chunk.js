(this.webpackJsonpleads=this.webpackJsonpleads||[]).push([[0],{119:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(66),o=t.n(l),c=t(1),i=t(2);function u(){var e=Object(c.a)(["\n    * {\n        margin: 0;\n        padding: 5px;\n        box-sizing: border-box;\n    }\n    body {\n        background: #224D74;;\n        font-size: 14px;\n        font-family: Arial;\n    }\n"]);return u=function(){return e},e}var d=Object(i.a)(u()),s=t(36),f=t(4),m=t(70);function b(){var e=Object(c.a)(["\n    outline:0;\n    border: 0 none;\n    cursor: pointer;\n    text-align:center;\n    text-decoration: none;\n    padding: 0px;\n    &:visited {\n        color: #111;\n    } \n"]);return b=function(){return e},e}function p(){var e=Object(c.a)(["\n    text-align: left;\n    color: #FFF;\n    font-weight: 500;\n"]);return p=function(){return e},e}function v(){var e=Object(c.a)(["\n    border-bottom: 1px solid #224D74;\n"]);return v=function(){return e},e}function g(){var e=Object(c.a)(["\n    background: #FFF;\n    border-spacing: 1px;\n    \n"]);return g=function(){return e},e}function h(){var e=Object(c.a)(["\n    border: 0;\n    border-collapse: collapse;\n    border-spacing: 0;\n    width:100%;\n"]);return h=function(){return e},e}function E(){var e=Object(c.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return E=function(){return e},e}function x(){var e=Object(c.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return x=function(){return e},e}function j(){var e=Object(c.a)(["\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n"]);return j=function(){return e},e}function y(){var e=Object(c.a)(["\n    color: #020202;\n    font-weight: 600;\n    font-size: 15px\n"]);return y=function(){return e},e}function O(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    max-width: 700px;\n    padding:0\n"]);return O=function(){return e},e}function C(){var e=Object(c.a)(["\n    display:flex;\n    align-items: center;\n    justify-content:center\n"]);return C=function(){return e},e}var F=i.b.div(C()),w=i.b.div(O()),S=(i.b.div(y()),i.b.div(j()),i.b.div(x(),(function(e){return e.justifycontent})),i.b.div(E(),(function(e){return e.justifycontent})),i.b.table(h())),k=i.b.tbody(g()),N=i.b.tr(v()),D=i.b.th(p()),z=Object(i.b)(s.b)(b()),L=t(86),_=t.n(L);function q(){var e=Object(c.a)(["\n    color: #FFFFFF;\n    font-size: 24px;\n"]);return q=function(){return e},e}function P(){var e=Object(c.a)(["\n    width: 200px;\n"]);return P=function(){return e},e}function M(){var e=Object(c.a)(["\n    margin-bottom: 30px;\n"]);return M=function(){return e},e}var B=i.b.div(M()),R=i.b.img(P()),A=i.b.div(q()),J=function(e){var n=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,r.a.createElement(R,{src:_.a,alt:"logo"})),r.a.createElement(A,{className:"label"},n))},T=t(60),U=t(47),V=t(89),I=t.n(V);function G(){var e=Object(c.a)(["\n    border-color: ",";\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n    color: #3C3C3C !important;\n    &:disabled {\n        cursor: not-allowed;\n        background: #D4D4D4;\n    };\n    \n"]);return G=function(){return e},e}function H(){var e=Object(c.a)(["\n    color: #020202;\n    font-size: 13px\n"]);return H=function(){return e},e}function K(){var e=Object(c.a)(["\n    border-color: ",";\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n    color: #3C3C3C !important;\n    &:disabled {\n        cursor: not-allowed;\n        background: #D4D4D4;\n    };\n    \n"]);return K=function(){return e},e}function Q(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return Q=function(){return e},e}var W=i.b.div(Q()),X=i.b.input(K(),(function(e){return e.bordercolor||"#DCDCDC"})),Y=i.b.label(H()),Z=Object(i.b)(I.a)(G(),(function(e){return e.bordercolor||"#DCDCDC"})),$=function(e){var n=e.name,t=e.label,a=e.flex,l=e.type,o=e.disabled,c=e.mask,i=e.error,u=Object(U.a)(e,["name","label","flex","type","disabled","mask","error"]),d="";return i&&(d="#ff0000"),r.a.createElement(W,{style:{flex:a}},r.a.createElement(Y,{htmlFor:n},t),c?r.a.createElement(Z,Object.assign({type:l||"text",id:n},u,{mask:"999.999.999-99"})):r.a.createElement(X,Object.assign({type:l||"text",id:n},u,{disabled:o,bordercolor:d})))};function ee(){var e=Object(c.a)(["\n    border-radius: 3px;\n    outline:0;\n    border: 0 none;\n    background: ",";\n    font-weight: 600;\n    height:35px;\n    width: 6rem;\n    cursor: pointer;\n    font-size:14px;\n    &:hover {\n        background: ",";\n    }\n"]);return ee=function(){return e},e}function ne(){var e=Object(c.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    \n"]);return ne=function(){return e},e}var te=i.b.div(ne()),ae=i.b.button(ee(),(function(e){return e.bgcolor}),(function(e){return e.bgcolorhover})),re=function(e){var n=e.label,t=e.bgcolor,a=e.bgcolorhover,l=e.type,o=Object(U.a)(e,["label","bgcolor","bgcolorhover","type"]);return r.a.createElement(te,null,r.a.createElement(ae,Object.assign({type:l||"button"},o,{bgcolor:t,bgcolorhover:a}),n))},le=t(90),oe=t.n(le).a.create({baseURL:"https://challenge-leads-db.herokuapp.com"});var ce=function(e){return e.replace(/\D+/g,"")},ie=t(35),ue=Object(a.createContext)();function de(e){var n=e.children,t=Object(a.useState)(0),l=Object(ie.a)(t,2),o=l[0],c=l[1];return r.a.createElement(ue.Provider,{value:{leads:o,setLeads:c}},n)}function se(){var e=Object(a.useContext)(ue);if(!e)throw new Error("useLeads must be used within a LeadsProvider");return{leads:e.leads,setLeads:e.setLeads}}function fe(){var e=Object(c.a)(["\n    color: #020202;\n    font-weight: 600;\n    font-size: 15px\n"]);return fe=function(){return e},e}function me(){var e=Object(c.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return me=function(){return e},e}function be(){var e=Object(c.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return be=function(){return e},e}function pe(){var e=Object(c.a)(['\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n    padding:5px;\n    autocomplete:"off"\n']);return pe=function(){return e},e}var ve=i.b.form(pe()),ge=i.b.div(be(),(function(e){return e.justifycontent})),he=i.b.div(me(),(function(e){return e.justifycontent})),Ee=i.b.div(fe()),xe=function(){var e=se().setLeads;function n(e){var n;return e.name&&e.cpf?n="/leads?nome=".concat(e.name,"&cpf=").concat(ce(e.cpf),"&_sort=id&_order=desc"):!e.name&&e.cpf?n="/leads?cpf=".concat(ce(e.cpf),"&_sort=id&_order=desc"):e.name&&!e.cpf&&(n="/leads?nome=".concat(e.name,"&_sort=id&_order=desc")),n}function t(){oe.get("/leads?_sort=id&_order=desc",{headers:{"Content-Type":"application/json"}}).then((function(n){e(n.data)}))}var l=Object(T.a)({initialValues:{name:"",cpf:""},onSubmit:function(a){a.name||a.cpf?function(t){n(t),oe.get(n(t),{headers:{"Content-Type":"application/json"}}).then((function(n){e(n.data)}))}(a):t()}});return Object(a.useEffect)((function(){t()}),[]),r.a.createElement(ve,{onSubmit:l.handleSubmit,autoComplete:"off"},r.a.createElement(ge,null,r.a.createElement(Ee,null,"Filters")),r.a.createElement(ge,null,r.a.createElement(he,null,r.a.createElement($,{name:"name",label:"Name",type:"text",onChange:l.handleChange,value:l.values.name,flex:1})),r.a.createElement(he,null,r.a.createElement($,{name:"cpf",label:"CPF",type:"text",onChange:l.handleChange,value:l.values.cpf,flex:1,mask:"999.999.999-29"}))),r.a.createElement(ge,null,r.a.createElement(he,{justifycontent:"flex-end"},r.a.createElement(re,{label:"Search",bgcolor:"#F79028",bgcolorhover:"#e08427",type:"submit"}))))};function je(){var e=Object(c.a)(["\n    border-radius: 3px;\n    outline:0;\n    border: 0 none;\n    background: ",";\n    font-weight: 600;\n    height:35px;\n    width: 6rem;\n    cursor: pointer;\n    text-align:center;\n    text-decoration: none;\n    padding: 10px;\n    &:hover {\n        background: ",";\n    },\n    &:visited {\n        color: #111;\n    }\n"]);return je=function(){return e},e}function ye(){var e=Object(c.a)(["\n    display:flex;\n    justify-content:flex-start;\n"]);return ye=function(){return e},e}var Oe=i.b.div(ye()),Ce=Object(i.b)(s.b)(je(),(function(e){return e.bgcolor}),(function(e){return e.bgcolorhover})),Fe=function(e){var n=e.to,t=e.label,a=e.bgcolor,l=e.bgcolorhover;return r.a.createElement(Oe,null,r.a.createElement(Ce,{to:n,bgcolor:a,bgcolorhover:l},t))};var we=function(e){return e.slice(0,3)+"."+e.slice(3,6)+"."+e.slice(6,9)+"-"+e.slice(9,11)};var Se=function(){function e(e){oe.delete("/leads/".concat(e)).then((function(){oe.get("/leads?_sort=id&_order=desc").then((function(e){console.log(e),l(e.data)}))}))}var n=se(),t=n.leads,l=n.setLeads;return Object(a.useEffect)((function(){}),[]),r.a.createElement(F,null,r.a.createElement(w,null,r.a.createElement(J,{title:"Search Leads"}),r.a.createElement(xe,null),r.a.createElement(Fe,{to:"/add",label:"New Lead",bgcolor:"#F79028",bgcolorhover:"#e08427"}),t.length>0&&r.a.createElement(S,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(D,null),r.a.createElement(D,null),r.a.createElement(D,null,"Email"),r.a.createElement(D,null,"Name"),r.a.createElement(D,null,"CPF"))),r.a.createElement(k,null,t.map((function(n){return r.a.createElement(N,{key:n.id},r.a.createElement("td",null,r.a.createElement(z,{to:{pathname:"/add",state:n.id}},r.a.createElement(m.a,{style:{padding:0,width:15,height:15,cursor:"pointer"}}))),r.a.createElement("td",{style:{paddingLeft:0}},r.a.createElement(m.b,{style:{padding:0,width:15,height:15,cursor:"pointer"},onClick:function(t){e(n.id)}})),r.a.createElement("td",null,n.email),r.a.createElement("td",null,n.nome),r.a.createElement("td",null,we(n.cpf)))}))))))};function ke(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    max-width: 700px;\n    padding:0\n"]);return ke=function(){return e},e}function Ne(){var e=Object(c.a)(["\n    display:flex;\n    align-items: center;\n    justify-content:center\n"]);return Ne=function(){return e},e}var De=i.b.div(Ne()),ze=i.b.div(ke()),Le=t(32);function _e(){var e=Object(c.a)(["\n    padding-left: 0;\n"]);return _e=function(){return e},e}function qe(){var e=Object(c.a)(["\n    border-color: #DCDCDC;\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n"]);return qe=function(){return e},e}function Pe(){var e=Object(c.a)(["\n    display:flex;\n    flex-direction: column;\n    width: 100%\n"]);return Pe=function(){return e},e}var Me=i.b.div(Pe()),Be=i.b.select(qe()),Re=i.b.label(_e()),Ae=function(e){var n=e.name,t=e.label,a=e.options,l=Object(U.a)(e,["name","label","options"]);return r.a.createElement(Me,null,r.a.createElement(Re,{htmlFor:n},t),r.a.createElement(Be,Object.assign({id:n,value:0},l),a.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))))};function Je(){var e=Object(c.a)(["\n    color: #020202;\n    font-weight: 600;\n    font-size: 15px\n"]);return Je=function(){return e},e}function Te(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return Te=function(){return e},e}function Ue(){var e=Object(c.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return Ue=function(){return e},e}function Ve(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n    padding:5px;\n"]);return Ve=function(){return e},e}var Ie=i.b.form(Ve()),Ge=i.b.div(Ue(),(function(e){return e.justifycontent})),He=i.b.div(Te(),(function(e){return e.justifycontent})),Ke=i.b.div(Je()),Qe=function(){var e=Object(f.f)(),n=Object(f.e)(),t=Object(a.useState)(!1),l=Object(ie.a)(t,2),o=l[0],c=l[1],i=Object(a.useState)(""),u=Object(ie.a)(i,2),d=u[0],s=u[1],m=Object(a.useState)({id:0,name:"",cpf:"",email:"",maritalStatus:"",spouseName:""}),b=Object(ie.a)(m,2),p=b[0],v=b[1],g=Object(a.useState)([{nomeEstadoCivil:""}]),h=Object(ie.a)(g,2),E=h[0],x=h[1],j=Object(T.a)({initialValues:p,enableReinitialize:!0,validationSchema:Le.b().shape({name:Le.c().required("Name is a required field"),cpf:Le.c().length(11,"CPF must be exactly 11 characters").required("CPF is a required field"),email:Le.c().email().required("Email is a required field"),maritalStatus:Le.a(),spouseName:Le.c().when("maritalStatus",{is:1,then:Le.c().required("Spouse Name is a required field when Marital State is Married")})}),onSubmit:function(e){o?y(e):O(e)}}),y=function(e){oe.put("/leads/".concat(e.id),{nome:e.name,email:e.email,cpf:ce(e.cpf),estadoCivil:e.maritalStatus,nomeConjugue:e.spouseName}).then((function(){alert("Cadastro atualizado com sucesso"),n.push("/")})).catch((function(e){console.log(e),alert("Erro ao atualizar cadastro.")}))},O=function(e){oe.post("/leads",{nome:e.name,email:e.email,cpf:ce(e.cpf),estadoCivil:e.maritalStatus,nomeConjugue:e.spouseName}).then((function(){alert("Cadastro realizado com sucesso"),n.push("/")})).catch((function(e){console.log(e),alert("Erro ao efetuar cadastro.")}))},C=function(){j.values.spouseName=""};return Object(a.useEffect)((function(){oe.get("/tiposEstadoCivil").then((function(e){x(e.data)})),void 0!==e.state&&0!==e.state?(s("Update"),oe.get("leads/".concat(e.state)).then((function(e){var n;n=e.data,c(!0),v({id:n.id,name:n.nome,cpf:n.cpf,email:n.email,maritalStatus:n.estadoCivil,spouseName:n.nomeConjugue})}))):s("Save")}),[]),r.a.createElement(Ie,{onSubmit:j.handleSubmit,autoComplete:"off"},r.a.createElement(Ge,null,r.a.createElement(Ke,null)),r.a.createElement(Ge,null,r.a.createElement(He,null,r.a.createElement($,{name:"name",label:"Name",type:"text",onChange:j.handleChange,onBlur:j.handleBlur,value:j.values.name,flex:1}),j.touched.name&&j.errors.name?r.a.createElement("div",null,j.errors.name):null),r.a.createElement(He,null,r.a.createElement($,{name:"cpf",label:"CPF",type:"text",onChange:j.handleChange,value:j.values.cpf,flex:1,mask:"999.999.999-99"}),j.touched.cpf&&j.errors.cpf?r.a.createElement("div",null,j.errors.cpf):null)),r.a.createElement(Ge,null,r.a.createElement(He,null,r.a.createElement($,{name:"email",label:"Email",type:"email ",onChange:j.handleChange,value:j.values.email,flex:1}),j.touched.email&&j.errors.email?r.a.createElement("div",null,j.errors.email):null),r.a.createElement(He,null,r.a.createElement(Ae,{name:"maritalStatus",label:"Marital Status",onChange:j.handleChange,value:j.values.maritalStatus,options:E.map((function(e,n){return{value:n,label:e.nomeEstadoCivil}}))}))),r.a.createElement(Ge,{justifycontent:"flex-start"},r.a.createElement(He,null,r.a.createElement($,{name:"spouseName",label:"Spouse Name",type:"text",onChange:j.handleChange,value:j.values.spouseName,flex:1,disabled:"1"!==j.values.maritalStatus.toString()&&(C(),!0)}),j.touched.spouseName&&j.errors.spouseName?r.a.createElement("div",null,j.errors.spouseName):null),r.a.createElement(He,null)),r.a.createElement(Ge,{justifycontent:"flex-end"},r.a.createElement(He,{justifycontent:"flex-start"},r.a.createElement(Fe,{to:"/",label:"Cancel",bgcolor:"#989898",bgcolorhover:"#807f7f"})),r.a.createElement(He,{justifycontent:"flex-end"},r.a.createElement(re,{label:d,bgcolor:"#F79028",bgcolorhover:"#e08427",type:"submit"}))))};var We=function(){return r.a.createElement(De,null,r.a.createElement(ze,null,r.a.createElement(J,{title:"Register a Lead"}),r.a.createElement(Qe,null)))};var Xe=function(){return r.a.createElement(s.a,null,r.a.createElement(f.a,{path:"/",exact:!0,component:Se}),r.a.createElement(f.a,{path:"/add",component:We}))};var Ye=function(){return r.a.createElement(de,null,r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(Xe,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ye,null)),document.getElementById("root"))},86:function(e,n,t){e.exports=t.p+"static/media/logo.7fdc93a9.svg"},92:function(e,n,t){e.exports=t(119)}},[[92,1,2]]]);
//# sourceMappingURL=main.eeef5b6e.chunk.js.map