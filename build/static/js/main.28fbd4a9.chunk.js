(this.webpackJsonpleads=this.webpackJsonpleads||[]).push([[0],{118:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(66),o=t.n(l),c=t(1),i=t(2);function u(){var e=Object(c.a)(["\n    * {\n        margin: 0;\n        padding: 5px;\n        box-sizing: border-box;\n    }\n    body {\n        background: #224D74;;\n        font-size: 14px;\n        font-family: Arial;\n    }\n"]);return u=function(){return e},e}var d=Object(i.a)(u()),s=t(36),f=t(4),m=t(70);function b(){var e=Object(c.a)(["\n    padding: 0;\n    text-decoration: none;\n    &:visited {\n        color: #111;\n    }\n"]);return b=function(){return e},e}function p(){var e=Object(c.a)(["\n    text-align: left;\n    color: #FFF;\n    font-weight: 500;\n"]);return p=function(){return e},e}function v(){var e=Object(c.a)(["\n    border-bottom: 1px solid #224D74;\n"]);return v=function(){return e},e}function h(){var e=Object(c.a)(["\n    background: #FFF;\n    border-spacing: 1px;\n    \n"]);return h=function(){return e},e}function g(){var e=Object(c.a)(["\n    border: 0;\n    border-collapse: collapse;\n    border-spacing: 0;\n    width:100%;\n"]);return g=function(){return e},e}function E(){var e=Object(c.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return E=function(){return e},e}function x(){var e=Object(c.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return x=function(){return e},e}function j(){var e=Object(c.a)(["\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n"]);return j=function(){return e},e}function y(){var e=Object(c.a)(["\n    color: #020202;\n    font-weight: 600;\n    font-size: 15px\n"]);return y=function(){return e},e}function O(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    max-width: 700px;\n    padding:0\n"]);return O=function(){return e},e}function C(){var e=Object(c.a)(["\n    display:flex;\n    align-items: center;\n    justify-content:center\n"]);return C=function(){return e},e}var F=i.b.div(C()),w=i.b.div(O()),S=(i.b.div(y()),i.b.div(j()),i.b.div(x(),(function(e){return e.justifycontent})),i.b.div(E(),(function(e){return e.justifycontent})),i.b.table(g())),k=i.b.tbody(h()),N=i.b.tr(v()),D=i.b.th(p()),z=Object(i.b)(s.b)(b());function L(){var e=Object(c.a)(["\n    color: #FFFFFF;\n    font-size: 24px;\n"]);return L=function(){return e},e}function _(){var e=Object(c.a)(["\n    width: 200px;\n"]);return _=function(){return e},e}function q(){var e=Object(c.a)(["\n    margin-bottom: 30px;\n"]);return q=function(){return e},e}var P=i.b.div(q()),M=(i.b.img(_()),i.b.div(L())),B=function(e){var n=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement(M,{className:"label"},n))},R=t(60),A=t(47),J=t(88),T=t.n(J);function U(){var e=Object(c.a)(["\n    border-color: ",";\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n    color: #3C3C3C !important;\n    &:disabled {\n        cursor: not-allowed;\n        background: #D4D4D4;\n    };\n    \n"]);return U=function(){return e},e}function V(){var e=Object(c.a)(["\n    color: #020202;\n    font-size: 13px\n"]);return V=function(){return e},e}function I(){var e=Object(c.a)(["\n    border-color: ",";\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n    color: #3C3C3C !important;\n    &:disabled {\n        cursor: not-allowed;\n        background: #D4D4D4;\n    };\n    \n"]);return I=function(){return e},e}function G(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return G=function(){return e},e}var H=i.b.div(G()),K=i.b.input(I(),(function(e){return e.bordercolor||"#DCDCDC"})),Q=i.b.label(V()),W=Object(i.b)(T.a)(U(),(function(e){return e.bordercolor||"#DCDCDC"})),X=function(e){var n=e.name,t=e.label,a=e.flex,l=e.type,o=e.disabled,c=e.mask,i=e.error,u=Object(A.a)(e,["name","label","flex","type","disabled","mask","error"]),d="";return i&&(d="#ff0000"),r.a.createElement(H,{style:{flex:a}},r.a.createElement(Q,{htmlFor:n},t),c?r.a.createElement(W,Object.assign({type:l||"text",id:n},u,{mask:"999.999.999-99"})):r.a.createElement(K,Object.assign({type:l||"text",id:n},u,{disabled:o,bordercolor:d})))};function Y(){var e=Object(c.a)(["\n    border-radius: 3px;\n    outline:0;\n    border: 0 none;\n    background: ",";\n    font-weight: 600;\n    height:35px;\n    width: 6rem;\n    cursor: pointer;\n    font-size:14px;\n    &:hover {\n        background: ",";\n    }\n"]);return Y=function(){return e},e}function Z(){var e=Object(c.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    \n"]);return Z=function(){return e},e}var $=i.b.div(Z()),ee=i.b.button(Y(),(function(e){return e.bgcolor}),(function(e){return e.bgcolorhover})),ne=function(e){var n=e.label,t=e.bgcolor,a=e.bgcolorhover,l=e.type,o=Object(A.a)(e,["label","bgcolor","bgcolorhover","type"]);return r.a.createElement($,null,r.a.createElement(ee,Object.assign({type:l||"button"},o,{bgcolor:t,bgcolorhover:a}),n))},te=t(89),ae=t.n(te).a.create({baseURL:"https://challenge-leads-db.herokuapp.com"});var re=function(e){return e.replace(/\D+/g,"")},le=t(35),oe=Object(a.createContext)();function ce(e){var n=e.children,t=Object(a.useState)(0),l=Object(le.a)(t,2),o=l[0],c=l[1];return r.a.createElement(oe.Provider,{value:{leads:o,setLeads:c}},n)}function ie(){var e=Object(a.useContext)(oe);if(!e)throw new Error("useLeads must be used within a LeadsProvider");return{leads:e.leads,setLeads:e.setLeads}}function ue(){var e=Object(c.a)(["\n    color: #020202;\n    font-weight: 600;\n    font-size: 15px\n"]);return ue=function(){return e},e}function de(){var e=Object(c.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return de=function(){return e},e}function se(){var e=Object(c.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return se=function(){return e},e}function fe(){var e=Object(c.a)(['\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n    padding:5px;\n    autocomplete:"off"\n']);return fe=function(){return e},e}var me=i.b.form(fe()),be=i.b.div(se(),(function(e){return e.justifycontent})),pe=i.b.div(de(),(function(e){return e.justifycontent})),ve=i.b.div(ue()),he=function(){var e=ie().setLeads;function n(e){var n;return e.name&&e.cpf?n="/leads?nome=".concat(e.name,"&cpf=").concat(re(e.cpf),"&_sort=id&_order=desc"):!e.name&&e.cpf?n="/leads?cpf=".concat(re(e.cpf),"&_sort=id&_order=desc"):e.name&&!e.cpf&&(n="/leads?nome=".concat(e.name,"&_sort=id&_order=desc")),n}function t(){ae.get("/leads?_sort=id&_order=desc",{headers:{"Content-Type":"application/json"}}).then((function(n){e(n.data)}))}var l=Object(R.a)({initialValues:{name:"",cpf:""},onSubmit:function(a){a.name||a.cpf?function(t){n(t),ae.get(n(t),{headers:{"Content-Type":"application/json"}}).then((function(n){e(n.data)}))}(a):t()}});return Object(a.useEffect)((function(){t()}),[]),r.a.createElement(me,{onSubmit:l.handleSubmit,autoComplete:"off"},r.a.createElement(be,null,r.a.createElement(ve,null,"Filters")),r.a.createElement(be,null,r.a.createElement(pe,null,r.a.createElement(X,{name:"name",label:"Name",type:"text",onChange:l.handleChange,value:l.values.name,flex:1})),r.a.createElement(pe,null,r.a.createElement(X,{name:"cpf",label:"CPF",type:"text",onChange:l.handleChange,value:l.values.cpf,flex:1,mask:"999.999.999-29"}))),r.a.createElement(be,null,r.a.createElement(pe,{justifycontent:"flex-end"},r.a.createElement(ne,{label:"Search",bgcolor:"#F79028",bgcolorhover:"#e08427",type:"submit"}))))};function ge(){var e=Object(c.a)(["\n    border-radius: 3px;\n    outline:0;\n    border: 0 none;\n    background: ",";\n    font-weight: 600;\n    height:35px;\n    width: 6rem;\n    cursor: pointer;\n    text-align:center;\n    text-decoration: none;\n    padding: 10px;\n    &:hover {\n        background: ",";\n    },\n    &:visited {\n        color: #111;\n    }\n"]);return ge=function(){return e},e}function Ee(){var e=Object(c.a)(["\n    display:flex;\n    justify-content:flex-start;\n"]);return Ee=function(){return e},e}var xe=i.b.div(Ee()),je=Object(i.b)(s.b)(ge(),(function(e){return e.bgcolor}),(function(e){return e.bgcolorhover})),ye=function(e){var n=e.to,t=e.label,a=e.bgcolor,l=e.bgcolorhover;return r.a.createElement(xe,null,r.a.createElement(je,{to:n,bgcolor:a,bgcolorhover:l},t))};var Oe=function(e){return e.slice(0,3)+"."+e.slice(3,6)+"."+e.slice(6,9)+"-"+e.slice(9,11)};var Ce=function(){function e(e){ae.delete("/leads/".concat(e)).then((function(){ae.get("/leads?_sort=id&_order=desc").then((function(e){console.log(e),l(e.data)}))}))}var n=ie(),t=n.leads,l=n.setLeads;return Object(a.useEffect)((function(){}),[]),r.a.createElement(F,null,r.a.createElement(w,null,r.a.createElement(B,{title:"Search Leads"}),r.a.createElement(he,null),r.a.createElement(ye,{to:"/add",label:"New Lead",bgcolor:"#F79028",bgcolorhover:"#e08427"}),t.length>0&&r.a.createElement(S,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(D,null),r.a.createElement(D,null),r.a.createElement(D,null,"Email"),r.a.createElement(D,null,"Name"),r.a.createElement(D,null,"CPF"))),r.a.createElement(k,null,t.map((function(n){return r.a.createElement(N,{key:n.id},r.a.createElement("td",null,r.a.createElement(z,{to:{pathname:"/add",state:n.id}},r.a.createElement(m.a,{style:{padding:0,width:15,height:15,cursor:"pointer"}}))),r.a.createElement("td",{style:{paddingLeft:0}},r.a.createElement(m.b,{style:{padding:0,width:15,height:15,cursor:"pointer"},onClick:function(t){e(n.id)}})),r.a.createElement("td",null,n.email),r.a.createElement("td",null,n.nome),r.a.createElement("td",null,Oe(n.cpf)))}))))))};function Fe(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    max-width: 700px;\n    padding:0\n"]);return Fe=function(){return e},e}function we(){var e=Object(c.a)(["\n    display:flex;\n    align-items: center;\n    justify-content:center\n"]);return we=function(){return e},e}var Se=i.b.div(we()),ke=i.b.div(Fe()),Ne=t(32);function De(){var e=Object(c.a)(["\n    padding-left: 0;\n"]);return De=function(){return e},e}function ze(){var e=Object(c.a)(["\n    border-color: #DCDCDC;\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n"]);return ze=function(){return e},e}function Le(){var e=Object(c.a)(["\n    display:flex;\n    flex-direction: column;\n    width: 100%\n"]);return Le=function(){return e},e}var _e=i.b.div(Le()),qe=i.b.select(ze()),Pe=i.b.label(De()),Me=function(e){var n=e.name,t=e.label,a=e.options,l=Object(A.a)(e,["name","label","options"]);return r.a.createElement(_e,null,r.a.createElement(Pe,{htmlFor:n},t),r.a.createElement(qe,Object.assign({id:n,value:0},l),a.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))))};function Be(){var e=Object(c.a)(["\n    color: #020202;\n    font-weight: 600;\n    font-size: 15px\n"]);return Be=function(){return e},e}function Re(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return Re=function(){return e},e}function Ae(){var e=Object(c.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return Ae=function(){return e},e}function Je(){var e=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n    padding:5px;\n"]);return Je=function(){return e},e}var Te=i.b.form(Je()),Ue=i.b.div(Ae(),(function(e){return e.justifycontent})),Ve=i.b.div(Re(),(function(e){return e.justifycontent})),Ie=i.b.div(Be()),Ge=function(){var e=Object(f.f)(),n=Object(f.e)(),t=Object(a.useState)(!1),l=Object(le.a)(t,2),o=l[0],c=l[1],i=Object(a.useState)(""),u=Object(le.a)(i,2),d=u[0],s=u[1],m=Object(a.useState)({id:0,name:"",cpf:"",email:"",maritalStatus:"",spouseName:""}),b=Object(le.a)(m,2),p=b[0],v=b[1],h=Object(a.useState)([{nomeEstadoCivil:""}]),g=Object(le.a)(h,2),E=g[0],x=g[1],j=Object(R.a)({initialValues:p,enableReinitialize:!0,validationSchema:Ne.b().shape({name:Ne.c().required("Name is a required field"),cpf:Ne.c().length(11,"CPF must be exactly 11 characters").required("CPF is a required field"),email:Ne.c().email().required("Email is a required field"),maritalStatus:Ne.a(),spouseName:Ne.c().when("maritalStatus",{is:1,then:Ne.c().required("Spouse Name is a required field when Marital State is Married")})}),onSubmit:function(e){o?y(e):O(e)}}),y=function(e){ae.put("/leads/".concat(e.id),{nome:e.name,email:e.email,cpf:re(e.cpf),estadoCivil:e.maritalStatus,nomeConjugue:e.spouseName}).then((function(){alert("Cadastro atualizado com sucesso"),n.push("/")})).catch((function(e){console.log(e),alert("Erro ao atualizar cadastro.")}))},O=function(e){ae.post("/leads",{nome:e.name,email:e.email,cpf:re(e.cpf),estadoCivil:e.maritalStatus,nomeConjugue:e.spouseName}).then((function(){alert("Cadastro realizado com sucesso"),n.push("/")})).catch((function(e){console.log(e),alert("Erro ao efetuar cadastro.")}))},C=function(){j.values.spouseName=""};return Object(a.useEffect)((function(){ae.get("/tiposEstadoCivil").then((function(e){x(e.data)})),void 0!==e.state&&0!==e.state?(s("Update"),ae.get("leads/".concat(e.state)).then((function(e){var n;n=e.data,c(!0),v({id:n.id,name:n.nome,cpf:n.cpf,email:n.email,maritalStatus:n.estadoCivil,spouseName:n.nomeConjugue})}))):s("Save")}),[]),r.a.createElement(Te,{onSubmit:j.handleSubmit,autoComplete:"off"},r.a.createElement(Ue,null,r.a.createElement(Ie,null)),r.a.createElement(Ue,null,r.a.createElement(Ve,null,r.a.createElement(X,{name:"name",label:"Name",type:"text",onChange:j.handleChange,onBlur:j.handleBlur,value:j.values.name,flex:1}),j.touched.name&&j.errors.name?r.a.createElement("div",null,j.errors.name):null),r.a.createElement(Ve,null,r.a.createElement(X,{name:"cpf",label:"CPF",type:"text",onChange:j.handleChange,value:j.values.cpf,flex:1,mask:"999.999.999-99"}),j.touched.cpf&&j.errors.cpf?r.a.createElement("div",null,j.errors.cpf):null)),r.a.createElement(Ue,null,r.a.createElement(Ve,null,r.a.createElement(X,{name:"email",label:"Email",type:"email ",onChange:j.handleChange,value:j.values.email,flex:1}),j.touched.email&&j.errors.email?r.a.createElement("div",null,j.errors.email):null),r.a.createElement(Ve,null,r.a.createElement(Me,{name:"maritalStatus",label:"Marital Status",onChange:j.handleChange,value:j.values.maritalStatus,options:E.map((function(e,n){return{value:n,label:e.nomeEstadoCivil}}))}))),r.a.createElement(Ue,{justifycontent:"flex-start"},r.a.createElement(Ve,null,r.a.createElement(X,{name:"spouseName",label:"Spouse Name",type:"text",onChange:j.handleChange,value:j.values.spouseName,flex:1,disabled:"1"!==j.values.maritalStatus.toString()&&(C(),!0)}),j.touched.spouseName&&j.errors.spouseName?r.a.createElement("div",null,j.errors.spouseName):null),r.a.createElement(Ve,null)),r.a.createElement(Ue,{justifycontent:"flex-end"},r.a.createElement(Ve,{justifycontent:"flex-start"},r.a.createElement(ye,{to:"/",label:"Cancel",bgcolor:"#989898",bgcolorhover:"#807f7f"})),r.a.createElement(Ve,{justifycontent:"flex-end"},r.a.createElement(ne,{label:d,bgcolor:"#F79028",bgcolorhover:"#e08427",type:"submit"}))))};var He=function(){return r.a.createElement(Se,null,r.a.createElement(ke,null,r.a.createElement(B,{title:"Register a Lead"}),r.a.createElement(Ge,null)))};var Ke=function(){return r.a.createElement(s.a,null,r.a.createElement(f.a,{path:"/",exact:!0,component:Ce}),r.a.createElement(f.a,{path:"/add",component:He}))};var Qe=function(){return r.a.createElement(ce,null,r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(Ke,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Qe,null)),document.getElementById("root"))},91:function(e,n,t){e.exports=t(118)}},[[91,1,2]]]);
//# sourceMappingURL=main.28fbd4a9.chunk.js.map