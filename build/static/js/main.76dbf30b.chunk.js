(this.webpackJsonpleads=this.webpackJsonpleads||[]).push([[0],{119:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(66),o=t.n(i),l=t(1),c=t(2);function u(){var e=Object(l.a)(["\n    * {\n        margin: 0;\n        padding: 5px;\n        box-sizing: border-box;\n    }\n    body {\n        background: #224D74;;\n        font-size: 14px;\n        font-family: Arial;\n    }\n"]);return u=function(){return e},e}var d=Object(c.a)(u()),m=t(36),s=t(4),f=t(70);function p(){var e=Object(l.a)(["\n    outline:0;\n    border: 0 none;\n    cursor: pointer;\n    text-align:center;\n    text-decoration: none;\n    padding: 0px;\n    &:visited {\n        color: #111;\n    } \n"]);return p=function(){return e},e}function b(){var e=Object(l.a)(["\n    text-align: left;\n    color: #FFF;\n    font-weight: 500;\n    @media(max-width: 400px) {\n        display:",";\n    }\n"]);return b=function(){return e},e}function x(){var e=Object(l.a)(["\n    @media(max-width: 400px) {\n        display:",";\n    }\n"]);return x=function(){return e},e}function h(){var e=Object(l.a)(["\n    border-bottom: 1px solid #224D74;\n"]);return h=function(){return e},e}function v(){var e=Object(l.a)(["\n    background: #FFF;\n    border-spacing: 1px;\n    \n"]);return v=function(){return e},e}function g(){var e=Object(l.a)(["\n    border: 0;\n    border-collapse: collapse;\n    border-spacing: 0;\n    width:100%;\n"]);return g=function(){return e},e}function E(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return E=function(){return e},e}function j(){var e=Object(l.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return j=function(){return e},e}function w(){var e=Object(l.a)(["\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n"]);return w=function(){return e},e}function y(){var e=Object(l.a)(["\n    color: #020202;\n    font-weight: 600;\n    font-size: 15px\n"]);return y=function(){return e},e}function O(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    max-width: 700px;\n    padding:5px\n"]);return O=function(){return e},e}function C(){var e=Object(l.a)(["\n    display:flex;\n    align-items: center;\n    justify-content:center\n"]);return C=function(){return e},e}var F=c.b.div(C()),z=c.b.div(O()),S=(c.b.div(y()),c.b.div(w()),c.b.div(j(),(function(e){return e.justifycontent})),c.b.div(E(),(function(e){return e.justifycontent})),c.b.table(g())),k=c.b.tbody(v()),N=c.b.tr(h()),D=c.b.td(x(),(function(e){return e.maxwidth374display})),L=c.b.th(b(),(function(e){return e.maxwidth374display})),_=Object(c.b)(m.b)(p()),q=t(86),P=t.n(q);function M(){var e=Object(l.a)(["\n    color: #FFFFFF;\n\n    @media(max-width: 400px){\n        font-size: 24px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 26px;\n    }\n    @media(min-width: 801px) {\n        font-size: 28px;\n    }\n"]);return M=function(){return e},e}function B(){var e=Object(l.a)(["\n    @media(max-width: 400px){\n        width: 200px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        width: 260px;\n    }\n    @media(min-width: 801px) {\n        width: 280px;\n    }\n"]);return B=function(){return e},e}function R(){var e=Object(l.a)(["\n    margin-bottom: 30px;\n"]);return R=function(){return e},e}var A=c.b.div(R()),J=c.b.img(B()),T=c.b.div(M()),U=function(e){var n=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null,r.a.createElement(J,{src:P.a,alt:"logo"})),r.a.createElement(T,{className:"label"},n))},V=t(60),I=t(47),G=t(89),H=t.n(G);function K(){var e=Object(l.a)(["\n    flex:1;\n    border-color: ",";\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n    color: #3C3C3C !important;\n    &:disabled {\n        cursor: not-allowed;\n        background: #D4D4D4;\n    };\n    \n"]);return K=function(){return e},e}function Q(){var e=Object(l.a)(["\n    color: #020202;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n\n"]);return Q=function(){return e},e}function W(){var e=Object(l.a)(["\n    flex:1;\n    border-color: ",";\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n    color: #3C3C3C !important;\n    &:disabled {\n        cursor: not-allowed;\n        background: #D4D4D4;\n    };\n    \n"]);return W=function(){return e},e}function X(){var e=Object(l.a)(["\n    flex:1;\n    display: flex;\n    flex-direction: column;\n    width: 40vw;\n    max-width: 330px\n"]);return X=function(){return e},e}var Y=c.b.div(X()),Z=c.b.input(W(),(function(e){return e.bordercolor||"#DCDCDC"})),$=c.b.label(Q()),ee=Object(c.b)(H.a)(K(),(function(e){return e.bordercolor||"#DCDCDC"})),ne=function(e){var n=e.name,t=e.label,a=e.flex,i=e.type,o=e.disabled,l=e.mask,c=e.error,u=Object(I.a)(e,["name","label","flex","type","disabled","mask","error"]),d="";return c&&(d="#ff0000"),r.a.createElement(Y,{style:{flex:a}},r.a.createElement($,{htmlFor:n},t),l?r.a.createElement(ee,Object.assign({type:i||"text",id:n},u,{mask:"999.999.999-99"})):r.a.createElement(Z,Object.assign({type:i||"text",id:n},u,{disabled:o,bordercolor:d})))};function te(){var e=Object(l.a)(["\n    border-radius: 3px;\n    outline:0;\n    border: 0 none;\n    background: ",";\n    font-weight: 600;\n    height:35px;\n    width: 6rem;\n    cursor: pointer;\n    font-size:14px;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n        width: 7rem;\n    }\n\n    &:hover {\n        background: ",";\n    }\n"]);return te=function(){return e},e}function ae(){var e=Object(l.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    \n"]);return ae=function(){return e},e}var re=c.b.div(ae()),ie=c.b.button(te(),(function(e){return e.bgcolor}),(function(e){return e.bgcolorhover})),oe=function(e){var n=e.label,t=e.bgcolor,a=e.bgcolorhover,i=e.type,o=Object(I.a)(e,["label","bgcolor","bgcolorhover","type"]);return r.a.createElement(re,null,r.a.createElement(ie,Object.assign({type:i||"button"},o,{bgcolor:t,bgcolorhover:a}),n))},le=t(90),ce=t.n(le).a.create({baseURL:"https://challenge-leads-db.herokuapp.com"});var ue=function(e){return e.replace(/\D+/g,"")},de=t(35),me=Object(a.createContext)();function se(e){var n=e.children,t=Object(a.useState)(0),i=Object(de.a)(t,2),o=i[0],l=i[1];return r.a.createElement(me.Provider,{value:{leads:o,setLeads:l}},n)}function fe(){var e=Object(a.useContext)(me);if(!e)throw new Error("useLeads must be used within a LeadsProvider");return{leads:e.leads,setLeads:e.setLeads}}function pe(){var e=Object(l.a)(["\n    color: #020202;\n    font-weight: 600;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n\n"]);return pe=function(){return e},e}function be(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return be=function(){return e},e}function xe(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return xe=function(){return e},e}function he(){var e=Object(l.a)(['\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n    padding:5px;\n    autocomplete:"off"\n']);return he=function(){return e},e}var ve=c.b.form(he()),ge=c.b.div(xe(),(function(e){return e.justifycontent})),Ee=c.b.div(be(),(function(e){return e.justifycontent})),je=c.b.div(pe()),we=function(){var e=fe().setLeads;function n(e){var n;return e.name&&e.cpf?n="/leads?nome=".concat(e.name,"&cpf=").concat(ue(e.cpf),"&_sort=id&_order=desc"):!e.name&&e.cpf?n="/leads?cpf=".concat(ue(e.cpf),"&_sort=id&_order=desc"):e.name&&!e.cpf&&(n="/leads?nome=".concat(e.name,"&_sort=id&_order=desc")),n}function t(){ce.get("/leads?_sort=id&_order=desc",{headers:{"Content-Type":"application/json"}}).then((function(n){e(n.data)}))}var i=Object(V.a)({initialValues:{name:"",cpf:""},onSubmit:function(a){a.name||a.cpf?function(t){n(t),ce.get(n(t),{headers:{"Content-Type":"application/json"}}).then((function(n){e(n.data)}))}(a):t()}});return Object(a.useEffect)((function(){t()}),[]),r.a.createElement(ve,{onSubmit:i.handleSubmit,autoComplete:"off"},r.a.createElement(ge,null,r.a.createElement(je,null,"Filters")),r.a.createElement(ge,null,r.a.createElement(Ee,null,r.a.createElement(ne,{name:"name",label:"Name",type:"text",onChange:i.handleChange,value:i.values.name,flex:1})),r.a.createElement(Ee,null,r.a.createElement(ne,{name:"cpf",label:"CPF",type:"text",onChange:i.handleChange,value:i.values.cpf,flex:1,mask:"999.999.999-29"}))),r.a.createElement(ge,null,r.a.createElement(Ee,{justifycontent:"flex-end"},r.a.createElement(oe,{label:"Search",bgcolor:"#F79028",bgcolorhover:"#e08427",type:"submit"}))))};function ye(){var e=Object(l.a)(["\n    border-radius: 3px;\n    outline:0;\n    border: 0 none;\n    background: ",";\n    font-weight: 600;\n    height:35px;\n    width: 6rem;\n    cursor: pointer;\n    text-align:center;\n    text-decoration: none;\n    padding: 10px;\n    &:hover {\n        background: ",";\n    },\n    &:visited {\n        color: #111;\n    }\n\n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n        width: 7rem;\n        padding: 8px;\n    }\n"]);return ye=function(){return e},e}function Oe(){var e=Object(l.a)(["\n    display:flex;\n    justify-content:flex-start;\n"]);return Oe=function(){return e},e}var Ce=c.b.div(Oe()),Fe=Object(c.b)(m.b)(ye(),(function(e){return e.bgcolor}),(function(e){return e.bgcolorhover})),ze=function(e){var n=e.to,t=e.label,a=e.bgcolor,i=e.bgcolorhover;return r.a.createElement(Ce,null,r.a.createElement(Fe,{to:n,bgcolor:a,bgcolorhover:i},t))};var Se=function(e){return e.slice(0,3)+"."+e.slice(3,6)+"."+e.slice(6,9)+"-"+e.slice(9,11)};var ke=function(){function e(e){ce.delete("/leads/".concat(e)).then((function(){ce.get("/leads?_sort=id&_order=desc").then((function(e){console.log(e),i(e.data)}))}))}var n=fe(),t=n.leads,i=n.setLeads;return Object(a.useEffect)((function(){}),[]),r.a.createElement(F,null,r.a.createElement(z,null,r.a.createElement(U,{title:"Search Leads"}),r.a.createElement(we,null),r.a.createElement(ze,{to:"/add",label:"New Lead",bgcolor:"#F79028",bgcolorhover:"#e08427"}),t.length>0&&r.a.createElement(S,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(L,null),r.a.createElement(L,null),r.a.createElement(L,{maxwidth374display:"none"},"Email"),r.a.createElement(L,null,"Name"),r.a.createElement(L,null,"CPF"))),r.a.createElement(k,null,t.map((function(n){return r.a.createElement(N,{key:n.id},r.a.createElement(D,null,r.a.createElement(_,{to:{pathname:"/add",state:n.id}},r.a.createElement(f.a,{style:{padding:0,width:15,height:15,cursor:"pointer"}}))),r.a.createElement(D,null,r.a.createElement(f.b,{style:{padding:0,width:15,height:15,cursor:"pointer"},onClick:function(t){e(n.id)}})),r.a.createElement(D,{maxwidth374display:"none"},n.email),r.a.createElement(D,null,n.nome),r.a.createElement(D,null,Se(n.cpf)))}))))))};function Ne(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    max-width: 700px;\n    padding:5px\n"]);return Ne=function(){return e},e}function De(){var e=Object(l.a)(["\n    display:flex;\n    align-items: center;\n    justify-content:center\n"]);return De=function(){return e},e}var Le=c.b.div(De()),_e=c.b.div(Ne()),qe=t(32);function Pe(){var e=Object(l.a)(["\n    padding-left: 0;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n"]);return Pe=function(){return e},e}function Me(){var e=Object(l.a)(["\n    border-color: #DCDCDC;\n    border-width: 1px;\n    border-radius: 5px;\n    border-style: solid;\n    outline: 0;\n"]);return Me=function(){return e},e}function Be(){var e=Object(l.a)(["\n    display:flex;\n    flex-direction: column;\n    width: 100%\n"]);return Be=function(){return e},e}var Re=c.b.div(Be()),Ae=c.b.select(Me()),Je=c.b.label(Pe()),Te=function(e){var n=e.name,t=e.label,a=e.options,i=Object(I.a)(e,["name","label","options"]);return r.a.createElement(Re,null,r.a.createElement(Je,{htmlFor:n},t),r.a.createElement(Ae,Object.assign({id:n,value:0},i),a.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))))};function Ue(){var e=Object(l.a)(["\n    color: #020202;\n    font-weight: 600;\n    \n    @media(max-width: 400px){\n        font-size: 14px;\n    }\n    @media(min-width: 401px) and (max-width: 800px) {\n        font-size: 16px;\n    }\n    @media(min-width: 801px) {\n        font-size: 18px;\n    }\n"]);return Ue=function(){return e},e}function Ve(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: ",";\n    width: 100%;\n    padding: 0;\n"]);return Ve=function(){return e},e}function Ie(){var e=Object(l.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: ",";\n    padding: 0;\n"]);return Ie=function(){return e},e}function Ge(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background: #FFFFFF;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    margin-top: 15px;\n    padding:5px;\n"]);return Ge=function(){return e},e}var He=c.b.form(Ge()),Ke=c.b.div(Ie(),(function(e){return e.justifycontent})),Qe=c.b.div(Ve(),(function(e){return e.justifycontent})),We=c.b.div(Ue()),Xe=function(){var e=Object(s.f)(),n=Object(s.e)(),t=Object(a.useState)(!1),i=Object(de.a)(t,2),o=i[0],l=i[1],c=Object(a.useState)(""),u=Object(de.a)(c,2),d=u[0],m=u[1],f=Object(a.useState)({id:0,name:"",cpf:"",email:"",maritalStatus:"",spouseName:""}),p=Object(de.a)(f,2),b=p[0],x=p[1],h=Object(a.useState)([{nomeEstadoCivil:""}]),v=Object(de.a)(h,2),g=v[0],E=v[1],j=Object(V.a)({initialValues:b,enableReinitialize:!0,validationSchema:qe.b().shape({name:qe.c().required("Name is a required field"),cpf:qe.c().length(11,"CPF must be exactly 11 characters").required("CPF is a required field"),email:qe.c().email().required("Email is a required field"),maritalStatus:qe.a(),spouseName:qe.c().when("maritalStatus",{is:1,then:qe.c().required("Spouse Name is a required field when Marital State is Married")})}),onSubmit:function(e){o?w(e):y(e)}}),w=function(e){ce.put("/leads/".concat(e.id),{nome:e.name,email:e.email,cpf:ue(e.cpf),estadoCivil:e.maritalStatus,nomeConjugue:e.spouseName}).then((function(){alert("Cadastro atualizado com sucesso"),n.push("/")})).catch((function(e){console.log(e),alert("Erro ao atualizar cadastro.")}))},y=function(e){ce.post("/leads",{nome:e.name,email:e.email,cpf:ue(e.cpf),estadoCivil:e.maritalStatus,nomeConjugue:e.spouseName}).then((function(){alert("Cadastro realizado com sucesso"),n.push("/")})).catch((function(e){console.log(e),alert("Erro ao efetuar cadastro.")}))},O=function(){j.values.spouseName=""};return Object(a.useEffect)((function(){ce.get("/tiposEstadoCivil").then((function(e){E(e.data)})),void 0!==e.state&&0!==e.state?(m("Update"),ce.get("leads/".concat(e.state)).then((function(e){var n;n=e.data,l(!0),x({id:n.id,name:n.nome,cpf:n.cpf,email:n.email,maritalStatus:n.estadoCivil,spouseName:n.nomeConjugue})}))):m("Save")}),[]),r.a.createElement(He,{onSubmit:j.handleSubmit,autoComplete:"off"},r.a.createElement(Ke,null,r.a.createElement(We,null)),r.a.createElement(Ke,null,r.a.createElement(Qe,null,r.a.createElement(ne,{name:"name",label:"Name",type:"text",onChange:j.handleChange,onBlur:j.handleBlur,value:j.values.name,flex:1}),j.touched.name&&j.errors.name?r.a.createElement("div",null,j.errors.name):null),r.a.createElement(Qe,null,r.a.createElement(ne,{name:"cpf",label:"CPF",type:"text",onChange:j.handleChange,value:j.values.cpf,flex:1,mask:"999.999.999-99"}),j.touched.cpf&&j.errors.cpf?r.a.createElement("div",null,j.errors.cpf):null)),r.a.createElement(Ke,null,r.a.createElement(Qe,null,r.a.createElement(ne,{name:"email",label:"Email",type:"email ",onChange:j.handleChange,value:j.values.email,flex:1}),j.touched.email&&j.errors.email?r.a.createElement("div",null,j.errors.email):null),r.a.createElement(Qe,null,r.a.createElement(Te,{name:"maritalStatus",label:"Marital Status",onChange:j.handleChange,value:j.values.maritalStatus,options:g.map((function(e,n){return{value:n,label:e.nomeEstadoCivil}}))}))),r.a.createElement(Ke,{justifycontent:"flex-start"},r.a.createElement(Qe,null,r.a.createElement(ne,{name:"spouseName",label:"Spouse Name",type:"text",onChange:j.handleChange,value:j.values.spouseName,flex:1,disabled:"1"!==j.values.maritalStatus.toString()&&(O(),!0)}),j.touched.spouseName&&j.errors.spouseName?r.a.createElement("div",null,j.errors.spouseName):null),r.a.createElement(Qe,null)),r.a.createElement(Ke,{justifycontent:"flex-end"},r.a.createElement(Qe,{justifycontent:"flex-start"},r.a.createElement(ze,{to:"/",label:"Cancel",bgcolor:"#989898",bgcolorhover:"#807f7f"})),r.a.createElement(Qe,{justifycontent:"flex-end"},r.a.createElement(oe,{label:d,bgcolor:"#F79028",bgcolorhover:"#e08427",type:"submit"}))))};var Ye=function(){return r.a.createElement(Le,null,r.a.createElement(_e,null,r.a.createElement(U,{title:"Register a Lead"}),r.a.createElement(Xe,null)))};var Ze=function(){return r.a.createElement(m.a,null,r.a.createElement(s.a,{path:"/",exact:!0,component:ke}),r.a.createElement(s.a,{path:"/add",component:Ye}))};var $e=function(){return r.a.createElement(se,null,r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(Ze,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($e,null)),document.getElementById("root"))},86:function(e,n,t){e.exports=t.p+"static/media/logo.7fdc93a9.svg"},92:function(e,n,t){e.exports=t(119)}},[[92,1,2]]]);
//# sourceMappingURL=main.76dbf30b.chunk.js.map